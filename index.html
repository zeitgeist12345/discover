<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🌐</text></svg>">
</head>

<body>
    <div class="header">
        <h1>🌐 Discover</h1>
        <p>Discover amazing links from around the web!</p>
        <p>No more personalized recommendation algorithms!</p>
    </div>

    <div class="controls">
        <!-- Loading Animation -->
        <div id="loading-animation" class="loading-animation">
            <div class="loading-spinner"></div>
            <p class="loading-text">Loading amazing links...</p>
        </div>
        
        <!-- Control Buttons (initially hidden) -->
        <div id="control-buttons" class="control-buttons" style="display: none;">
            <button class="btn" onclick="loadPreviousWebsite()">⬅️ Previous link</button>
            <button class="btn" onclick="loadRandomWebsite()">🎲 Load Random Link</button>
            <button class="btn" onclick="loadNextWebsite()">➡️ Next link</button>
            <button class="btn add-website-btn" onclick="showAddWebsiteForm()">➕ Add link</button>
        </div>
    </div>

    <div class="current-site" id="current-site-info">
        <h3>Current Link</h3>
        <div class="website-box">
            <a href="#" id="current-site-link" target="_blank">Click "🎲 Load Random Link" to discover amazing links!<br>Links open in a new tab for the best experience.</a>
            <div id="website-description" class="website-description"></div>
            
            <!-- Stats and Action Buttons -->
            <div class="website-stats" id="website-stats" style="display: none;">
                <div class="stats-row">
                    <button class="action-btn dislike-btn" id="dislike-btn" onclick="dislikeWebsite()">
                        👎 Dislike <span class="count-badge" id="dislikes-count">0</span>
                    </button>
                    <div class="views-center">
                        <span class="stat-value" id="views-count">0</span>
                        <span class="stat-label">views</span>
                    </div>
                    <button class="action-btn like-btn" id="like-btn" onclick="likeWebsite()">
                        👍 Like <span class="count-badge" id="likes-count">0</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Website Modal -->
    <div id="add-website-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>➕ Add New Link</h3>
                <span class="close" onclick="hideAddWebsiteForm()">&times;</span>
            </div>
            <form id="add-website-form" onsubmit="submitWebsite(event)">
                <div class="form-group">
                    <label for="website-name">Link Name *</label>
                    <input type="text" id="website-name" name="name" required placeholder="e.g., GitHub">
                </div>
                <div class="form-group">
                    <label for="website-url">Link URL *</label>
                    <input type="url" id="website-url" name="url" required placeholder="https://www.github.com">
                </div>
                <div class="form-group">
                    <label for="website-description">Description *</label>
                    <textarea id="website-description" name="description" required placeholder="Brief description of the link..." rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="website-category">Category</label>
                    <select id="website-category" name="category">
                        <option value="curated">Curated</option>
                        <option value="user-submitted">User Submitted</option>
                        <option value="educational">Educational</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="tools">Tools</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="hideAddWebsiteForm()">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="submit-btn">Add Website</button>
                </div>
                
                <!-- Error message area - below submit button -->
                <div id="modal-error-message" class="modal-error" style="display: none;">
                    <div class="error-box">
                        <p id="modal-error-text"></p>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>

</html>
